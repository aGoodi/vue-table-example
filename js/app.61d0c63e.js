(function(){"use strict";var t={2992:function(t,e,a){var s=a(8099),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],n={name:"App",components:{}},i=n,c=a(1001),l=(0,c.Z)(i,o,r,!1,null,null,null),u=l.exports,m=a(4314),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("header-bar"),a("data-table")],1)},b=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticClass:"navbar",attrs:{type:"light"}},[a("b-container",[a("b-link",{staticClass:"text-white",attrs:{id:"logo",href:"/"}},[a("b-row",[a("b-col",[a("b-icon-people-fill",{staticClass:"h2"})],1),a("b-col",[a("span",{staticClass:"h3"},[t._v("CRM")])])],1)],1),a("b-nav",{attrs:{pills:""}},[a("b-nav-item",{attrs:{href:"/"}},[t._v("Customers")]),a("b-nav-item",[t._v("Transactions")]),a("b-nav-item",[t._v("Tasks")]),a("b-nav-item",[t._v("Analytics")]),a("b-nav-item",[t._v("Settings")])],1)],1)],1)},p=[],h={name:"HeaderBar",methods:{}},v=h,_=(0,c.Z)(v,f,p,!1,null,null,null),C=_.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-container",[a("b-container",{staticClass:"mt-4 mb-4"},[a("b-row",[a("b-col",{attrs:{md:"auto"}},[a("h2",[t._v("Customers")])]),a("b-col",{attrs:{md:"auto"}},[a("b-button",{attrs:{variant:"success"},on:{click:t.showAddCustomer}},[t._v("+ Add Customer")])],1)],1)],1),a("b-container",[a("b-form-group",[a("b-input-group",[a("b-form-input",{staticClass:"md-auto",attrs:{id:"filter-input",autocomplete:"off",placeholder:"Type to search"},on:{input:t.getFilteredData},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter="",t.getCustomerData()}}},[t._v("Clear")])],1)],1)],1),a("b-container",[a("b-row",{attrs:{"align-v":"baseline"}},[a("b-col",{attrs:{md:"auto"}},[a("b-pagination",{attrs:{"per-page":t.perPage,"total-rows":this.items.length,"aria-controls":"customersTable"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("b-col",{attrs:{md:"auto"}},[a("div",[t._v("Customers: "+t._s(this.items.length))])])],1)],1),a("b-overlay",{attrs:{id:"noResultsOverlay",show:t.noSearchResults,opacity:"1.0"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",[t._v("No results")])]},proxy:!0}])},[a("b-container",{staticClass:"mt-3 mx-4"},[a("b-table",{attrs:{id:"customersTable",hover:"",items:t.items,fields:t.fields,fixed:"","sticky-header":"",stacked:"md","per-page":t.perPage,currentPage:t.currentPage},scopedSlots:t._u([{key:"cell(company_name)",fn:function(e){return[t._v(" "+t._s(e.item.company_name)+" ")]}},{key:"cell(contact_name)",fn:function(e){return[t._v(" "+t._s(e.item.contact_lastname)+" "+t._s(e.item.contact_firstname)+" ")]}},{key:"cell(contact_email)",fn:function(e){return[t._v(" "+t._s(e.item.contact_email)+" ")]}},{key:"cell(acquired_on)",fn:function(e){return[t._v(" "+t._s(e.item.acquired_on)+" ")]}},{key:"cell(customer_status)",fn:function(t){return["active"===t.item.customer_status?a("b-icon",{staticClass:"icon__status_active",attrs:{icon:"circle-fill"}}):a("b-icon",{staticClass:"icon__status_inactive",attrs:{icon:"circle-fill"}})]}},{key:"cell(actions)",fn:function(e){return[a("b-row",{staticClass:"text-center",attrs:{"align-h":"center"}},[a("b-col",{attrs:{md:"auto"}},[a("b-icon",{staticClass:"action",attrs:{icon:"pencil-fill"},on:{click:function(a){return t.showEditCustomer(e.item.id)}}})],1),a("b-col",{attrs:{md:"auto"}},[a("b-icon",{staticClass:"action",attrs:{icon:"trash-fill",variant:"danger"},on:{click:function(a){return t.showDeleteCustomerConfirmation(e.item.id)}}})],1)],1)]}}])})],1)],1),a("b-container",[a("b-row",{attrs:{"align-v":"baseline"}},[a("b-col",{attrs:{md:"auto"}},[a("b-pagination",{attrs:{"per-page":t.perPage,"total-rows":this.items.length,"aria-controls":"customersTable"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("b-col",{attrs:{md:"auto"}},[a("div",[t._v("Customers: "+t._s(this.items.length))])])],1)],1)],1),a("b-modal",{ref:"addcustomer",attrs:{size:"lg",title:"New Customer","hide-footer":""}},[a("add-customer-form",{on:{hideAddCustomer:t.hideAddCustomer,getCustomerData:t.getCustomerData}})],1),a("b-modal",{ref:"editcustomer",attrs:{size:"lg",title:"Edit Customer","hide-footer":""}},[a("edit-customer-form",{attrs:{customerId:t.customerId},on:{getCustomerData:t.getCustomerData,hideEditCustomer:t.hideEditCustomer}})],1),a("b-modal",{attrs:{id:"deleteCustomerConfirmation"}},[a("div",[t._v("Are you sure you want to delete the customer from your CRM?")])])],1)},y=[],k=a(5633),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("b-row",{staticClass:"mb-4 pr-2"},[a("label",[a("b",[t._v("Company Name")])]),a("b-input-group",[a("b-form-input",{attrs:{label:"Company Name",state:t.companyNameState,placeholder:"Dunder Mifflin"},model:{value:t.customer.company_name,callback:function(e){t.$set(t.customer,"company_name",e)},expression:"customer.company_name"}})],1),a("b-row",[t.$v.customer.company_name.$error?a("span",{staticClass:"validation_error"},[t._v(" Field is required ")]):t._e()])],1),a("b-row",{staticClass:"mb-4 pr-2"},[a("b",[t._v("Customer Name")]),a("label",[t._v("First Name")]),a("b-input-group",[a("b-form-input",{attrs:{"aria-label":"First Name",placeholder:"Jim"},model:{value:t.customer.contact_firstname,callback:function(e){t.$set(t.customer,"contact_firstname",e)},expression:"customer.contact_firstname"}})],1),a("label",[t._v("Last Name")]),a("b-input-group",[a("b-form-input",{attrs:{state:t.lastNameState,placeholder:"Halpert"},model:{value:t.customer.contact_lastname,callback:function(e){t.$set(t.customer,"contact_lastname",e)},expression:"customer.contact_lastname"}})],1),a("b-row",[t.$v.customer.contact_lastname.$error?a("span",{staticClass:"validation_error"},[t._v(" Field is required ")]):t._e()])],1),a("b-row",{staticClass:"mb-4 pr-2"},[a("label",[a("b",[t._v("Contact E-mail")])]),a("b-input-group",[a("b-form-input",{attrs:{state:t.emailState,placeholder:"name@example.com"},model:{value:t.customer.contact_email,callback:function(e){t.$set(t.customer,"contact_email",e)},expression:"customer.contact_email"}})],1),a("b-row",[t.$v.customer.contact_email.$error?a("span",{staticClass:"validation_error"},[t._v(" Field is required ")]):t._e()])],1),a("b-row",{staticClass:"mb-4 pr-4"},[a("label",[a("b",[t._v("Acquired On")])]),a("b-input-group",[a("b-form-input",{attrs:{type:"date"},model:{value:t.customer.acquired_on,callback:function(e){t.$set(t.customer,"acquired_on",e)},expression:"customer.acquired_on"}})],1)],1),a("b-row",{staticClass:"mb-4 pr-2"},[a("b-form-group",[a("label",[a("b",[t._v("Customer status")])]),a("b-form-checkbox",{attrs:{value:"active","unchecked-value":"inactive"},model:{value:t.customer.customer_status,callback:function(e){t.$set(t.customer,"customer_status",e)},expression:"customer.customer_status"}},[t._v(" Set status as active ")])],1)],1),a("b-row",[a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"success"}},[t._v("Add")]),a("b-button",{on:{click:t.hideModal}},[t._v("Cancel")])],1)],1)])},w=[],x=a(8398),S={computed:{companyNameState(){return!this.$v.customer.company_name.$invalid},lastNameState(){return!this.$v.customer.contact_lastname.$invalid},emailState(){return!this.$v.customer.contact_email.$invalid}},data(){return{submitStatus:null,customer:{company_name:"",contact_firstname:"",contact_lastname:"",contact_email:"",acquired_on:"",customer_status:""}}},validations:{customer:{company_name:{required:x.C1},contact_lastname:{required:x.C1},contact_email:{required:x.C1}}},methods:{submit(){this.$v.customer.$touch(),this.$v.customer.$error?this.submitStatus="ERROR":(this.addCustomer(),this.submitStatus="PENDING",setTimeout((()=>{this.submitStatus="OK"}),500))},addCustomer(){k.Z.post("https://my-json-server.typicode.com/agoodi/vue-table-example/customers/",this.customer).then((t=>{this.$emit("hideAddCustomer"),this.$emit("getCustomerData"),this.confirmingMessageAddCustomer(),console.log(t)})).catch((function(t){console.log(t)}))},hideModal(){this.$emit("hideAddCustomer")},confirmingMessageAddCustomer(){this.$root.$bvToast.toast("New customer has been added",{autoHideDelay:5e3,noCloseButton:!0,variant:"info",toaster:"b-toaster-bottom-right",solid:!0})}}},D=S,N=(0,c.Z)(D,$,w,!1,null,null,null),E=N.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("b-form-group",{staticClass:"mb-4 pr-2",attrs:{label:"Company Name","label-class":"font-weight-bold"}},[a("b-form-input",{attrs:{state:t.companyNameState},model:{value:t.customer.company_name,callback:function(e){t.$set(t.customer,"company_name",e)},expression:"customer.company_name"}})],1),a("b-form-group",{staticClass:"mb-2 pr-2",attrs:{label:"Customer Name","label-class":"font-weight-bold"}},[a("b-form-group",{attrs:{label:"First Name"}},[a("b-form-input",{model:{value:t.customer.contact_firstname,callback:function(e){t.$set(t.customer,"contact_firstname",e)},expression:"customer.contact_firstname"}})],1),a("b-form-group",{attrs:{label:"Last Name"}},[a("b-form-input",{attrs:{state:t.lastNameState},model:{value:t.customer.contact_lastname,callback:function(e){t.$set(t.customer,"contact_lastname",e)},expression:"customer.contact_lastname"}})],1)],1),a("b-form-group",{staticClass:"mb-4 pr-2",attrs:{label:"Contact E-mail","label-class":"font-weight-bold"}},[a("b-form-input",{model:{value:t.customer.contact_email,callback:function(e){t.$set(t.customer,"contact_email",e)},expression:"customer.contact_email"}})],1),a("b-form-group",{staticClass:"mb-4 pr-4",attrs:{label:"Acquired On","label-class":"font-weight-bold"}},[a("b-form-input",{attrs:{type:"date",state:t.emailState},model:{value:t.customer.acquired_on,callback:function(e){t.$set(t.customer,"acquired_on",e)},expression:"customer.acquired_on"}})],1),a("b-form-group",{staticClass:"mb-4 pr-2",attrs:{label:"Customer status","label-class":"font-weight-bold"}},[a("b-form-checkbox",{attrs:{value:"active","unchecked-value":"inactive"},model:{value:t.customer.customer_status,callback:function(e){t.$set(t.customer,"customer_status",e)},expression:"customer.customer_status"}},[t._v("Set status as active")])],1),a("b-form-group",[a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"success"}},[t._v("Update")]),a("b-button",{on:{click:t.hideModal}},[t._v("Cancel")])],1)],1)])},q=[],P={name:"EditCustomerForm",props:{customerId:Number},mounted(){this.getCustomerById()},computed:{companyNameState(){return!this.$v.customer.company_name.$invalid&&null},lastNameState(){return!this.$v.customer.contact_lastname.$invalid&&null},emailState(){return!this.$v.customer.contact_email.$invalid&&null}},data(){return{submitStatus:null,customer:{},status:[{text:"Set status as active",value:"active"}]}},validations:{customer:{company_name:{required:x.C1},contact_lastname:{required:x.C1},contact_email:{required:x.C1}}},methods:{getCustomerById(){k.Z.get(`https://my-json-server.typicode.com/agoodi/vue-table-example/customers/${this.customerId}`).then((t=>{console.log(t),this.customer=t.data})).catch((function(t){console.log(t)}))},submit(){this.$v.customer.$touch(),this.$v.customer.$error?this.submitStatus="ERROR":(this.updateCustomer(),this.submitStatus="PENDING",setTimeout((()=>{this.submitStatus="OK"}),500))},updateCustomer(){k.Z.put(`https://my-json-server.typicode.com/agoodi/vue-table-example/customers/${this.customerId}`,this.customer).then((t=>{this.$emit("hideEditCustomer"),this.$emit("getCustomerData"),this.confirmingMessageUpdateCustomer(),console.log(t)})).catch((function(t){console.log(t)}))},confirmingMessageUpdateCustomer(){this.$root.$bvToast.toast("The customer has been updated",{autoHideDelay:5e3,noCloseButton:!0,variant:"info",toaster:"b-toaster-bottom-right",solid:!0})},hideModal(){this.$emit("hideEditCustomer")}}},O=P,A=(0,c.Z)(O,T,q,!1,null,null,null),M=A.exports,Z={components:{AddCustomerForm:E,EditCustomerForm:M},data(){return{fields:[{key:"company_name",label:"Company Name",sortable:!0},{key:"contact_name",label:"Contact Name",sortable:!0},{key:"contact_email",label:"Contact E-mail",sortable:!0},{key:"acquired_on",label:"Acquired On",sortable:!0},{key:"customer_status",label:"Customer Status",sortable:!0},"actions"],items:[],customerId:0,value:"",currentPage:1,perPage:20,filter:"",noSearchResults:!0}},computed:{},mounted(){this.getCustomerData(),this.getFilteredData()},methods:{getCustomerData(){k.Z.get("https://my-json-server.typicode.com/agoodi/vue-table-example/customers").then((t=>(this.items=t.data,this.noSearchResults=!1))).catch((t=>{console.log(t)}))},getFilteredData(){k.Z.get(`https://my-json-server.typicode.com/agoodi/vue-table-example/customers/?q=${this.filter.toLowerCase()}`).then((t=>(this.items=t.data,0==this.items.length?this.noSearchResults=!0:this.noSearchResults=!1))).catch((t=>{console.log(t)}))},showAddCustomer(){this.$refs["addcustomer"].show()},hideAddCustomer(){this.$refs["addcustomer"].hide()},showEditCustomer(t){this.$refs["editcustomer"].show(),this.customerId=t},hideEditCustomer(){this.$refs["editcustomer"].hide()},showDeleteCustomerConfirmation(t){this.value="",this.$bvModal.msgBoxConfirm("Are you sure you want to delete the customer from your CRM?",{title:"Delete the customer",okVariant:"danger",okTitle:"Yes",cancelTitle:"No"}).then((e=>{this.value=e,1==this.value&&(this.deleteCustomer(t),this.confirmingMessageDeleteCustomer())})).catch((t=>{console.log(t)}))},deleteCustomer(t){this.customerId=t,k.Z["delete"](`https://my-json-server.typicode.com/agoodi/vue-table-example/customers/${this.customerId}`).then((t=>{console.log(t),setTimeout(function(){this.getCustomerData()}.bind(this),1e3)})).catch((function(t){console.log(t)}))},confirmingMessageDeleteCustomer(){this.$bvToast.toast("The customer has been deleted",{autoHideDelay:5e3,noCloseButton:!0,variant:"info",toaster:"b-toaster-bottom-right",solid:!0}),console.log()}}},j=Z,R=(0,c.Z)(j,g,y,!1,null,null,null),F=R.exports,I={name:"HomeView",components:{HeaderBar:C,DataTable:F}},B=I,H=(0,c.Z)(B,d,b,!1,null,null,null),G=H.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("header-bar"),a("transactions-table")],1)},U=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-table",{attrs:{fields:t.fields,items:t.items},scopedSlots:t._u([{key:"cell(task_title)",fn:function(e){return[t._v(" "+t._s(e.item.task_title)+" ")]}},{key:"cell(contact_name)",fn:function(e){return[t._v(" "+t._s(e.item.contact_lastname)+" "+t._s(e.item.contact_firstname)+" ")]}},{key:"cell(contact_email)",fn:function(e){return[t._v(" "+t._s(e.item.contact_email)+" ")]}},{key:"cell(task_deadline)",fn:function(e){return[t._v(" "+t._s(e.item.task_deadline)+" ")]}},{key:"cell(customer_status)",fn:function(t){return["active"===t.item.customer_status?a("b-icon",{staticClass:"icon__status_active",attrs:{icon:"circle-fill"}}):a("b-icon",{staticClass:"icon__status_inactive",attrs:{icon:"circle-fill"}})]}},{key:"cell(actions)",fn:function(e){return[a("b-row",{staticClass:"text-center",attrs:{"align-h":"center"}},[a("b-col",{attrs:{md:"auto"}},[a("b-icon",{staticClass:"action",attrs:{icon:"pencil-fill"},on:{click:function(a){return t.showEditCustomer(e.item.id)}}})],1),a("b-col",{attrs:{md:"auto"}},[a("b-icon",{staticClass:"action",attrs:{icon:"trash-fill",variant:"danger"},on:{click:function(a){return t.showDeleteCustomerConfirmation(e.item.id)}}})],1)],1)]}}])})],1)},z=[],K={data(){return{fields:[{key:"task_title",label:"Title task",sortable:!0},{key:"company_name",label:"Company Name",sortable:!0},{key:"contact_email",label:"Contact E-mail",sortable:!0},{key:"task_deadline",label:"Ð¡ompletion date",sortable:!0},{key:"task_status",label:"Task Status",sortable:!0},"actions"],items:[]}},mounted(){this.getCustomerData()},methods:{getCustomerData(){k.Z.get("https://my-json-server.typicode.com/agoodi/vue-table-example/customers/").then((t=>this.items=t.data)).catch((t=>{console.log(t)}))}}},J=K,X=(0,c.Z)(J,V,z,!1,null,null,null),Y=X.exports,Q={name:"HomeView",components:{HeaderBar:C,TransactionsTable:Y}},W=Q,tt=(0,c.Z)(W,L,U,!1,null,null,null),et=tt.exports;s["default"].use(m.ZP);const at=[{path:"/",name:"home",component:G},{path:"/transactions",name:"transactions",component:et}],st=new m.ZP({mode:"history",base:"/vue-table-example/",routes:at});var ot=st,rt=a(6753),nt=a(5100),it=a(6391),ct=a(9642),lt=(a(7024),a(3345));s["default"].use(lt.ZP),s["default"].use(rt.XG7),s["default"].use(nt.k),s["default"].use(it.A7),s["default"].use(ct.m$),s["default"].config.productionTip=!1,new s["default"]({router:ot,render:t=>t(u)}).$mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,r){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],o=t[u][1],r=t[u][2];for(var i=!0,c=0;c<s.length;c++)(!1&r||n>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[c])}))?s.splice(c--,1):(i=!1,r<n&&(n=r));if(i){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[s,o,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,r,n=s[0],i=s[1],c=s[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(c)var u=c(a)}for(e&&e(s);l<n.length;l++)r=n[l],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},s=self["webpackChunkvue_table_example"]=self["webpackChunkvue_table_example"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2992)}));s=a.O(s)})();
//# sourceMappingURL=app.61d0c63e.js.map